#include "platform.h"
#include "peripheral.h"

using audio::Audio_Driver;

int main() {
	init_platform();

	UART uart{ UART::instance() };
	Audio_Driver audio{ Audio_Driver::instance()};
	Rotary_enc Rot_enc{ Rotary_enc::instance() };

	u8 ps_=0;
	u8 CS_=0;
	XGpio sw0;

	XGpio_Initialize(&sw0, XPAR_GPIO_2_DEVICE_ID);
	XGpio_SetDataDirection(&sw0, 1, 0xFFFFFFFF);
    while (1) {
    	CS_ = XGpio_DiscreteRead(&gpio, 1);
    	if(ps_ != CS_){

    	}
    	ps_ =CS_;
    }
    cleanup_platform();
    return 0;
}


