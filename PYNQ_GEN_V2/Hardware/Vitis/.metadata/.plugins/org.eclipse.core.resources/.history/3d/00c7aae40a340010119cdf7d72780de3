#include "peripheral.h"

void
UART_init(){
	XUartPs_Config *Config = XUartPs_LookupConfig(XPAR_XUARTPS_0_DEVICE_ID);
	XUartPs_CfgInitialize(&Uart_Ps, Config, Config->BaseAddress);
	XUartPs_SetBaudRate(&Uart_Ps, 115200);
}

void
PS_init(){
	init_platform();
}

void
ROT_ENC_init(){
	XGpio_Initialize(&rotary, XPAR_AXI_GPIO_0_DEVICE_ID);
	XGpio_SetDataDirection(&rotary, 1, 0xFFFFFFFF);  // all inputs
}

u32
ROT_ENC_Getvalue(){
return XGpio_DiscreteRead(&rotary, 1);
}
